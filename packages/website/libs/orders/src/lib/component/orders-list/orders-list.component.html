<div class="easyroute-orders-list pt-0 bg-white">

    <!-- botnes de acciones -->

    <div class="d-flex row align-items-center justify-content-between pl-4 pr-3">

        <div class="col-12 col-xxl col-lg-6 col-sm-6 d-flex flex-row align-items-center justify-content-start">
        </div>

        <div class="col-xl-6 col-12 text-right">

            <div class="d-flex flex-row align-items-center justify-content-end pt-3">

                <button class=" btn btn-icon btn-icon-white dropdown-toggle p-2" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <img src="assets/icons/point.svg">
                </button>

                <div class="dropdown-menu letdrop" aria-labelledby="dropdownMenuButton">

                    <a class="dropdown-item drop-title border-drop pt-3 pb-3 point" (click)="openPdf()">

                        <img src="assets/icons/pdf1.svg" class="pr-2"> {{ 'ORDERS.DOWNLOAD_ORDERS' | translate }}

                    </a>

                    <a class="dropdown-item drop-title border-drop pt-3 pb-3 point" (click)="openImportOrders()">

                        <img src="assets/icons/import.svg" class="pr-2"> {{ 'ORDERS.IMPORT_ORDERS' | translate }}

                    </a>

                    <a class="dropdown-item drop-title border-drop pt-3 pb-3 point" (click)="redirectPreparation()">

                        <img src="assets/icons/iconPreparation.svg" class="pr-2"> {{ 'GENERAL.PREPARAION' | translate }}

                    </a>

                    <a class="dropdown-item drop-title border-drop pt-3 pb-3 point" (click)="redirectHistorialPreparation()">

                        <img src="assets/icons/iconHistory.svg" class="pr-2"> {{ 'GENERAL.HISTORICAL' | translate }}

                    </a>

                    <a class="dropdown-item drop-title pt-3 pb-3 point" (click)="openSetting()">

                        <img src="assets/icons/setting.svg" class="pr-2"> {{ 'SHEET_ROUTE.SETTING' | translate }}

                    </a>

                </div>
            </div>

        </div>

    </div>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-8 mt-xl-0 mt-5 text-center">
                <p class="title">{{ 'ORDERS.ORDERS' | translate }}</p>
            </div>
        </div>
    </div>

    <!-- cuadros infortivos -->

    <div class="row justify-content-center justify-content-md-center">

        <div class="row">

            <div class="col-lg-3 col-md-3 col-12 mt-lg-0 mt-2">

                <div class="d-flex flex-lg-column  justify-content-around column pl-lg-0">

                    <div class="card">

                        <div class="w-100 h-100 d-flex flex-column align-items-center justify-content-center">

                            <p class="m-0 p-0 color-infor-card space-paragran">{{ 'ORDERS.TOTAL_ORDERS' | translate }}</p>

                            <ng-container *ngIf="showInfoDetail">

                                <p class="m-0 p-0 color-info  space-paragran" style="font-size: 20px !important;" *ngIf="informativeOrderSummary">

                                    {{ informativeOrderSummary.totalOrder }}

                                </p>

                            </ng-container>

                            <ng-container *ngIf="!showInfoDetail">

                                <div class="fa-2x">

                                    <i class="fas fa-circle-notch fa-spin"></i>

                                </div>

                            </ng-container>

                        </div>

                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-3 col-12 mt-lg-0 mt-2">

                <div class="d-flex flex-lg-column  justify-content-around column pl-lg-0">

                    <div class="card">

                        <div class="w-100 h-100 d-flex flex-column align-items-center justify-content-center">

                            <p class="m-0 p-0 color-infor-card space-paragran">{{ 'ORDERS.COMMERCIAL_ORDERS' | translate }}</p>

                            <ng-container *ngIf="showInfoDetail">

                                <p class="m-0 p-0 color-info  space-paragran" style="font-size: 20px !important;" *ngIf="informativeOrderSummary">

                                    {{ informativeOrderSummary.totalCommercialOrders }}

                                </p>

                            </ng-container>

                            <ng-container *ngIf="!showInfoDetail">

                                <div class="fa-2x">

                                    <i class="fas fa-circle-notch fa-spin"></i>

                                </div>

                            </ng-container>

                        </div>

                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-3 col-12 mt-lg-0 mt-2">

                <div class="d-flex flex-lg-column  justify-content-around column pl-lg-0">

                    <div class="card">

                        <div class="w-100 h-100 d-flex flex-column align-items-center justify-content-center">

                            <p class="m-0 p-0 color-infor-card space-paragran">{{ 'ORDERS.APP_ORDERS' | translate }}</p>

                            <ng-container *ngIf="showInfoDetail">

                                <p class="m-0 p-0 color-info  space-paragran" style="font-size: 20px !important;" *ngIf="informativeOrderSummary">

                                    {{ informativeOrderSummary.totalAppOrders }}

                                </p>

                            </ng-container>

                            <ng-container *ngIf="!showInfoDetail">

                                <div class="fa-2x">

                                    <i class="fas fa-circle-notch fa-spin"></i>

                                </div>

                            </ng-container>

                        </div>

                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-3 col-12 mt-lg-0 mt-2">

                <div class="d-flex flex-lg-column  justify-content-around column pl-lg-0">

                    <div class="card">

                        <div class="w-100 h-100 d-flex flex-column align-items-center justify-content-center">

                            <p class="m-0 p-0 color-infor-card space-paragran">{{ 'ORDERS.TOTAL_BILLING' | translate }}</p>

                            <ng-container *ngIf="showInfoDetail">

                                <p class="m-0 p-0 color-info  space-paragran" style="font-size: 20px !important;" *ngIf="informativeOrderSummary">

                                    {{ decimal(informativeOrderSummary.totalBilling) }}

                                </p>

                            </ng-container>

                            <ng-container *ngIf="!showInfoDetail">

                                <div class="fa-2x">

                                    <i class="fas fa-circle-notch fa-spin"></i>

                                </div>

                            </ng-container>

                        </div>

                    </div>
                </div>
            </div>
        </div>


    </div>

    <!-- end cuadros informativos -->

    <!-- Estado y Boton aceptar -->
    <div class="row mt-4 pl-3 pr-3">

        <div class="col-md-12 m-0">

            <div class="offset-md-2 col-md-8 col-12 pb-5 pr-0 pl-0">

                <div class="form-row justify-content-center">

                    <div class="input-group mt align-items-center col-lg-2 col-12 mt-2 mt-sm-0">

                        <span class="colorStatus">

                            <b>{{ 'ORDERS.ORDERS_LIST.MODIFY_STATUS' | translate }}:</b>

                        </span>

                    </div>

                    <div class="input-group col-lg-2 col-12 mt-2 mt-sm-0">

                        <label class="control-label col-especial m-0" for="orderDate">
                            {{ 'ORDERS.ORDERS_LIST.OF' | translate }}
                        </label>
                        <div class="text-center p-2" *ngIf="loading == 'loading'">
                            <div class="fa-3x">
                                <i class="fas fa-circle-notch fa-spin"></i>
                            </div>
                        </div>
                        <div class="text-center p-2" *ngIf="loading == 'success' && Estatus.length == 0">
                            <p class="text-center text-danger">{{ 'GENERAL.NO_STATUS_AVAILABLE' | translate }}</p>
                        </div>
                        <div class="input-group hack-select" *ngIf="loading == 'success' && Estatus.length > 0">
                            <select (change)="ChangeStatusFrom($event)" class="form-control letter-app" [(ngModel)]="statusChangeFrom" id="statusOrderId">
                                <option [value]="undefined">{{ 'GENERAL.SELECT' | translate }}</option>
                                <option *ngFor="let status of Estatus" [value]="status.id">{{status.name}}</option>
                            </select>
                        </div>
                        <div *ngIf="loading == 'error'">
                            <p class="text-danger text-center pointer" (click)="getStatus()">{{ 'CLIENTS.CLIENTS_FORMS.THERE_WAS' | translate }}<ins>{{ 'CLIENTS.CLIENTS_FORMS.HERE' | translate }}</ins>!</p>
                        </div>
                    </div>

                    <div class="input-group col-md-2 col-12 mt-2 mt-sm-0" *ngIf="EstatusTo && EstatusTo.length > 0">
                        <label class="control-label col-especial m-0" for="orderDate">
                            {{ 'ORDERS.ORDERS_LIST.TO' | translate }}
                        </label>
                        <div class="text-center p-2" *ngIf="loading == 'loading'">
                            <div class="fa-3x">
                                <i class="fas fa-circle-notch fa-spin"></i>
                            </div>
                        </div>
                        <div class="text-center p-2" *ngIf="loading == 'success' && Estatus.length == 0">
                            <p class="text-center text-danger">{{ 'GENERAL.NO_STATUS_AVAILABLE' | translate }}</p>
                        </div>
                        <div class="input-group hack-select" *ngIf="loading == 'success' && Estatus.length > 0">
                            <select class="form-control letter-app" [(ngModel)]="statusChangeTo" id="statusOrderId">
                                <option [value]="undefined">{{ 'GENERAL.SELECT' | translate }}</option>
                                <option *ngFor="let status of EstatusTo" [value]="status.id">{{status.name}}</option>
                            </select>
                        </div>
                        <div *ngIf="loading == 'error'">
                            <p class="text-danger text-center pointer" (click)="getStatus()">{{ 'CLIENTS.CLIENTS_FORMS.THERE_WAS' | translate }}<ins>{{ 'CLIENTS.CLIENTS_FORMS.HERE' | translate }}</ins>!</p>
                        </div>
                    </div>

                    <div class="mt col-lg-2 col-12 mt-2 mt-sm-0" *ngIf="EstatusTo && EstatusTo.length > 0">
                        <div class="d-flex flex-sm-row flex-column justify-content-center align-items-center mt-1">
                            <button class="btn btn-cancel" style="width: 100%;" (click)="changeStatus()" [disabled]="!statusChangeFrom || !statusChangeTo" type="button">{{ 'GENERAL.ACCEPT' | translate }}
                            </button>
                        </div>
                    </div>
                    <div class="flex-fill align-self-center mt col-lg-2">
                        <button class="btn btn-franchise btn-block" (click)="sendFtp()" title="{{ 'ORDERS.SEND_ORDERS' | translate }}" *ngIf="isAdmin() || isCommercialAgent()">
                            {{ 'ORDERS.SEND_ORDERS' | translate }}
                        </button>
                    </div>

                    <div class="flex-fill align-self-center mt col-lg-2">
                        <button class="btn btn-secondary btn-block" title="{{ 'GENERAL.ADD' | translate}}" routerLink='new'>
                            {{ 'GENERAL.ADD' | translate }} 
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="row justify-content-center align-items-end">
        <div class=" col-lg-3 col-xl-2 col-12">
            <span class="title-table">
                {{ 'ORDERS.ORDERS' | translate }}
            </span>
        </div>
        <div class=" col-lg-6 col-xl-8 col-12 pl-5 pr-5 color-text-info pt-3 text-center">
            {{ 'ORDERS.EN_CASE' | translate }}
            <span class="point" style="text-decoration: underline;" (click)="redirectPreferencesOrders()">{{ 'ORDERS.CONFIGURE' | translate }}</span> {{ 'ORDERS.PREVOISLY' | translate }}
            <b> {{ 'ORDERS.STATUS_IN_PROCESS' | translate }} </b>
        </div>
        <div class class="col-lg-3 col-xl-2 col-sm-12 col-xs-12 text-center">

            <button class="btn btn-default btn-print" (click)="print()">
                <img src="assets/polpoo/impresora.svg" alt="" width="25px">
            </button>


            <button class="btn btn-filter  pr-2 ml-3" (click)="filterOpen()">
                <i class="fas fa-sliders-h"></i>
                {{ 'GENERAL.FILTERS' | translate  }}
            </button>
        </div>
    </div>

    <!-- Datatable -->
    <div class="table-content mt-4">
        <table class="table table-striped table-bordered table-responsive-lg mb-0" id="orders" style="text-align: center; width: 100%;">
            <thead>
                <tr>
                    <th>{{ 'ORDERS.ORDERS_LIST.CODE' |translate }}</th>
                    <th>{{ 'ORDERS.ORDERS_LIST.CLIENTS' | translate }}</th>
                    <th>{{ 'ORDERS.ORDERS_LIST.DATE' | translate }}</th>
                    <th>{{ 'COMPANIES.CREATED_BY' | translate }}</th>
                    <th>{{ 'COMPANIES.CREATED_AT' | translate }}</th>
                    <th>{{ 'GENERAL.STATE_ORDER' | translate }}</th>
                    <th>{{ 'ORDERS.ORDERS_LIST.STATUS_PREPARATOR' | translate }}</th>
                    <th>{{ 'GENERAL.COMMERCIAL' | translate }}</th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th>{{ 'ORDERS.APP' | translate }}</th>
                    <th>{{ 'ORDERS.SENT_FTP' | translate }}</th>
                    <th>{{ 'ORDERS.ASSIGNED' | translate }}</th>
                    <!-- <th>{{ 'ORDERS.ORDERS_LIST.ASSIGNED' | translate }}</th>
                                                <th>{{ 'ORDERS.ORDERS_LIST.DATE_OF_ASSIGNMENT' | translate }}</th> -->
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

</div>