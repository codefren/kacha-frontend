<div class="vehicles-analisys-list main-container container-fluid pt-4 pb-4 p-2">

    <!-- header -->
    <div class="d-flex row align-items-center justify-content-between pl-4 pr-4">

        <div class="col-12 col-xxl col-lg-6 col-sm-6 d-flex flex-row align-items-center justify-content-start">

            <div class="page-title point" (click)="redirectTo()">

                <img _ngcontent-dnq-c5="" alt="cost" class="header-brand-img img-providers point" src="assets/icons/analisysClient.svg">

                <span class="ml-3 point"> {{ 'VEHICLES.VEHICLES_ANALYSIS.VEHICLES_ANALYSIS' | translate }} </span>
            </div>

        </div>

        <div class="col-xl-6 col-12 text-right">

            <div class="d-flex form-row flex-row align-items-center justify-content-end">

                <button class="btn btn-icon btn-icon-white dropdown-toggle p-2 mt-xl-0 mt-2" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <img src="assets/icons/point.svg">
                </button>

                <div class="dropdown-menu letdrop" aria-labelledby="dropdownMenuButton">

                    <a class="dropdown-item drop-title border-drop pt-3 pb-3 point" (click)="openPdf()">

                        <img src="assets/icons/pdf1.svg" class="pr-2"> {{ 'VEHICLES.VEHICLES_ANALYSIS.DOWNLOAD_PDF' | translate }}

                    </a>

                    <a class="dropdown-item drop-title border-drop pt-3 pb-3 point" (click)="openCsv()">

                        <img src="assets/icons/pdf1.svg" class="pr-2"> {{ 'VEHICLES.VEHICLES_ANALYSIS.DOWNLOAD_EXCEL' | translate }}

                    </a>

                </div>


            </div>

        </div>

    </div>

    <!-- Cajas informativas -->
    <div class="row align-items-center mt-3 pl-4 pr-4">

        <div class="col-xl col-md-6 col-12">

            <div class="card card-left p-3">

                <p class="p-title"> {{ 'VEHICLES.VEHICLES_ANALYSIS.TOTAL_VEHICLES' | translate }} </p>

                <ng-container *ngIf="showCode">
                    <div class="size-price">

                        <p class="p-sub-number text-no-wrap" *ngIf="totalizedDate"> {{ totalizedDate.totalVehicle }} </p>

                    </div>

                </ng-container>

                <ng-container *ngIf="!showCode">

                    <div class="fa-2x">

                        <i class="fas fa-circle-notch fa-spin"></i>

                    </div>

                </ng-container>

            </div>

        </div>

        <div class="col-xl col-md-6 col-12 mt-xl-0 mt-2">

            <div class="card card-left p-3">

                <p class="p-title"> {{ 'VEHICLES.VEHICLES_ANALYSIS.ACTIVE_VEHICLES' | translate }} </p>

                <ng-container *ngIf="showCode">
                    <div class="size-price">

                        <p class="p-sub-number text-no-wrap" [title]="totalizedDate.totalVehicle" *ngIf="totalizedDate"> {{ totalizedDate.activeVehicle }} </p>

                    </div>
                </ng-container>

                <ng-container *ngIf="!showCode">
                    <div class="fa-2x">
                        <i class="fas fa-circle-notch fa-spin"></i>
                    </div>
                </ng-container>

            </div>

        </div>

        <div class="col-xl col-md-6 col-12 mt-xl-0 mt-2">

            <div class="card card-left p-3">

                <p class="p-title"> {{ 'VEHICLES.VEHICLES_ANALYSIS.INACTIVE_VEHICLES' | translate }} </p>

                <ng-container *ngIf="showCode">
                    <div class="size-price">
                        <p class="p-sub-number text-no-wrap" *ngIf="totalizedDate" [title]="totalizedDate.inactiveVehicle"> {{ totalizedDate.inactiveVehicle }} </p>
                    </div>

                </ng-container>

                <ng-container *ngIf="!showCode">
                    <div class="fa-2x">
                        <i class="fas fa-circle-notch fa-spin"></i>
                    </div>
                </ng-container>

            </div>

        </div>

        <!--  <div class="col-xl col-md-6 col-12 mt-xl-0 mt-2">

            <div class="card card-left p-3">

                <p class="p-title"> {{ 'VEHICLES.VEHICLES_ANALYSIS.VEHICLES_MORE_KM' | translate }} </p>

                <ng-container *ngIf="showCode">

                    <p class="p-sub-number" *ngIf="totalizedDate" [title]="totalizedDate.vehicleMoreKm"> {{ totalizedDate.vehicleMoreKm }} </p>

                </ng-container>

                <ng-container *ngIf="!showCode">

                    <div class="fa-2x">

                        <i class="fas fa-circle-notch fa-spin"></i>

                    </div>

                </ng-container>

            </div>

        </div>

        <div class="col-xl col-md-6 col-12 mt-xl-0 mt-2">

            <div class="card card-left p-3">

                <p class="p-title"> {{ 'VEHICLES.VEHICLES_ANALYSIS.VEHICLES_LESS_KM' | translate }} </p>

                <ng-container *ngIf="showCode">

                    <p class="p-sub-number" [title]="totalizedDate" *ngIf="totalizedDate"> {{ totalizedDate.vehicleLessKm }} </p>

                </ng-container>

                <ng-container *ngIf="!showCode">

                    <div class="fa-2x">

                        <i class="fas fa-circle-notch fa-spin"></i>

                    </div>

                </ng-container>

            </div>

        </div> -->

        <div class="col-xl col-md-6 col-12 mt-xl-0 mt-2">

            <div class="card card-rigth"></div>

        </div>

        <div class="col-xl col-md-6 col-12 mt-xl-0 mt-2">

            <div class="card card-rigth"></div>

        </div>

        <div class="col-xl col-md-6 col-12 mt-xl-0 mt-2">

            <div class="card card-rigth"></div>

        </div>

        <div class="col-xl col-md-6 col-12 mt-xl-0 mt-2">

            <div class="card card-rigth"></div>

        </div>

    </div>

    <!-- Filter -->

    <div class="row mt-3 pl-4 pr-4 align-items-center font-row mb-xl-0 mb-2">

        <div class="col-xl-8 col-12">

            <div class="form-row mb-1 mt-2 align-items-center">

                <!--  <div class="col-12 col-xl-3 col-sm-4 mb-1">

                    <div class="dp-hidden position-absolute">

                        <div class="input-group">

                            <input name="datepicker" class="form-control  input-size date1 point" ngbDatepicker #datepicker="ngbDatepicker" [autoClose]="'outside'" (dateSelect)="onDateSelection($event)" [displayMonths]="2" [dayTemplate]="t" outsideDays="hidden" [startDate]="fromDate!"
                                tabindex="-1" />

                            <ng-template #t let-date let-focused="focused">

                                <span class="custom-day" [class.focused]="focused" [class.range]="isRange(date)" [class.faded]="isHovered(date) || isInside(date)" (mouseenter)="hoveredDate = date" (mouseleave)="hoveredDate = null">
                                     {{ date.day }}
                                 </span>

                            </ng-template>

                        </div>

                    </div>

                    <div class="input-group">

                        <input #dpFromDate class="form-control form-control-date" placeholder="yyyy-mm-dd" name="dpFromDate" [value]="formatter.format(fromDate) + ' - ' +formatter.format(toDate)" (input)="fromDate = validateInput(fromDate, dpFromDate.value)" />

                        <button class="btn btn-calendar calendar" (click)="datepicker.toggle()" type="button">
     
                             <img class="icons-calendar point" src="assets/icons/Vector.svg" aria-hidden="true">
 
                         </button>

                    </div>

                </div> -->

                <div class="col-12 col-xl-3 col-sm-4 mb-1 point">
                    <select id="isActive" [value]="filter.values.isActive" (change)="ChangeFilter($event)" class="form-control-select-datatable size-select form-control point">
                        <option value=""> {{ 'GENERAL.STATUS' | translate }} </option>
                        <option value="true" > Activados </option>
                        <option value="false" > Inactivos </option>
                    </select>
                </div>
            </div>

        </div>

        <div class="col-xl-2 col-12  offset-xl-2">
            <div class="input-group datatables-input-group-width mr-xl-3 mr-3 mb-2 mt-2">
                <input id="search" type="text" class="form-control search-general
                         pull-right input-personalize-datatable" placeholder="{{ 'COST.SEARCH' | translate }}" style="max-width: initial;">
                <span class="input-group-append input-group-appenda">
                     <span class="input-group-text input-group-text-general table-append">
                         <img class="icons-search" src="assets/icons/optimmanage2/icono-lupanaranja.svg">
                     </span>
                </span>
            </div>
        </div>

    </div>

    <!-- table -->
    <div class="row">
        <div class="col-12">
            <div class="table-content table-content-general">

                <table id="vehiclesAnalysis" style="width: 100%; text-align: center" class="table table-striped table-bordered table-responsive-lg mb-0">
                    <thead>
                        <tr>
                            <th>{{ 'VEHICLES.VEHICLES_ANALYSIS.STATUS' | translate }}</th>
                            <th>{{ 'VEHICLES.VEHICLES_ANALYSIS.NAME' | translate }}</th>
                            <th>{{ 'VEHICLES.VEHICLES_ANALYSIS.REGISTRATION' | translate }}</th>
                            <th>{{ 'VEHICLES.VEHICLES_ANALYSIS.ASSIGNED_DRIVER' | translate }}</th>
                            <th>{{ 'VEHICLES.VEHICLES_ANALYSIS.DEPARTURES' | translate }}</th>
                            <!-- <th>{{ 'VEHICLES.VEHICLES_ANALYSIS.KM' | translate }}</th> -->
                            <th>{{ 'VEHICLES.VEHICLES_ANALYSIS.REFUELING' | translate }}</th>
                            <th>{{ 'VEHICLES.VEHICLES_ANALYSIS.COST' | translate }}</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>

            </div>
        </div>
    </div>

</div>