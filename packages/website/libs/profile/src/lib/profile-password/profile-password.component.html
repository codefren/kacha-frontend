<div class="easyroute-profile-password mt-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-9 col-12 text-left">
                <div class="row">
                    <div class="col-12">
                        <p class="title line-black-div">{{ 'USERS.PASSWORD' | translate }}</p>
                    </div>
                </div>

                <form [formGroup]="changePasswordForm" *ngIf="changePasswordForm">
                    <!-- settings-form -->
                    <!-- <div class="form-row">
                        <div class="col-12 text-center">
                            <p class="profile-key">
                                {{ 'PROFILE.SESSION_SETTINGS.LINKED_EMAIL' | translate }}: <b>{{ email }}</b>
                            </p>
                        </div>
                    </div> -->

                    <div class="row mt-2">
                        <div class="col-lg-6 col-12">
                            <div class="row form-row">
                                <div class="col-12">
                                    <div class="form-group" [ngClass]="{ 'has-danger': changePasswordForm.controls['current_password'].invalid && (changePasswordForm.controls['current_password'].dirty || changePasswordForm.controls['current_password'].touched) }">
                                        <label class="form-label" for="profile-old-pass">
                                            {{ 'USERS.PASSWORD_OLD' | translate }}
                                            <span class="asterisco">* </span>
                                        </label>

                                        <input id="profile-old-pass" type="password" class="form-control form-input" placeholder="{{ 'USERS.PASSWORD_OLD' | translate }}" formControlName="current_password" />

                                        <ng-container *ngFor="let validation of passwordMessages.current_password">
                                            <div class="w-100 text-center">
                                                <small class="form-control-feedback text-danger" *ngIf="changePasswordForm.get('current_password').hasError( validation.type ) && (changePasswordForm.get('current_password').dirty || changePasswordForm.get('current_password').touched)">
                                                    {{ validation.message }}
                                                </small>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-2">
                        <div class="col-lg-6 col-12">
                            <div class="row form-row">
                                <div class="col-12">
                                    <div class="form-group" [ngClass]="{ 'has-danger': changePasswordForm.controls['password'].invalid && (changePasswordForm.controls['password'].dirty || changePasswordForm.controls['password'].touched) }">
                                        <label class="form-label" for="profile-new-pass">
                                            {{ 'USERS.PASSWORD_NEW' | translate }}
                                            <span class="asterisco">* </span>
                                        </label>

                                        <input id="profile-new-pass" type="password" class="form-control form-input" formControlName="password" placeholder="{{ 'USERS.PASSWORD_NEW' | translate }}" />

                                        <ng-container *ngFor="let validation of passwordMessages.password">
                                            <div class="w-100 text-center">
                                                <small class="form-control-feedback text-danger" *ngIf="changePasswordForm.get('password').hasError(validation.type) && (changePasswordForm.get('password').dirty || changePasswordForm.get('password').touched)">
                                                    {{ validation.message }}
                                                </small>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-2">
                        <div class="col-lg-6 col-12">
                            <div class="row form-row">
                                <div class="col-12">
                                    <div class="form-group" [ngClass]="{ 'has-danger': changePasswordForm.controls['password_confirmation'].invalid && (changePasswordForm.controls['password_confirmation'].dirty || changePasswordForm.controls['password_confirmation'].touched) }">
                                        <label class="form-label" for="profile-confir-pass">
                                            {{ 'USERS.PASSWORD_CONFIRMATION' | translate }}
                                            <span class="asterisco">* </span>
                                        </label>

                                        <input id="profile-confir-pass" type="password" class="form-control form-input" placeholder="{{ 'USERS.PASSWORD_CONFIRMATION' | translate }}" formControlName="password_confirmation" />

                                        <ng-container *ngFor="let validation of passwordMessages.password_confirmation">
                                            <div class="w-100 text-center">
                                                <small class="form-control-feedback text-danger" *ngIf="changePasswordForm.get('password_confirmation').hasError(validation.type) && (changePasswordForm.get('password_confirmation').dirty || changePasswordForm.get('password_confirmation').touched)">
                                                    {{ validation.message }}
                                                </small>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-4 mb-4">
                        <div class="col-12 text-sm-left text-center">
                            <button (click)="changePassword()" [disabled]="!changePasswordForm.valid" class="btn btn-secondary size-btn-form">
                                {{ 'GENERAL.SAVE' | translate }}
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>